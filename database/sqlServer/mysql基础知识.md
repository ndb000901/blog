# mysql基础知识



## 创建数据库

```
create database <数据库名>;
```

## 删除数据库

```
drop database <数据库名>;
```

## 创建表

```
create table <表名> (列名1 列1类别...,
                     列名2 列2类别...);
```

## 删除表

```
drop table <表名>;
```

## 修改表

**修改表名**

```
alter table <表名> rename to <新表名>
```

**增加字段**

```
alter table <表名> add <字段名> <字段类型>
```

**删除字段**

```
alter table <表名> drop <字段名>
```

**修改字段**

```
# modify
alter table <表名> modify <字段名> <新类型>

# change
alter table <表名> change <旧字段名> <新字段名> <新类型>
```

## 增加数据

```
insert into <表名> (字段1，字段2，字段3) values(值1，值2，值3),(值1，值2，值3),(值1，值2，值3);
```

## 删除数据

```
delete from <表名> where ...;
```

**注意：若不加where条件，将删除表中所有数据**

## 修改数据

```
update <表名> set <字段1>=<值1>,<字段2>=<值2>,<字段3>=<值3>;
```

## 查询数据

```
select <需查询的字段名> from <表明>
```
## 数据排序

```
select <字段名...> from <表名> order by <字段名> [ASC 或 DESC];
```

|参数|说明|
|----|----|
|ASC|升序|
|DESC|降序|

## like使用

```
select <字段1,字段2> from <表名> where <字段1> like '%ji%';
```

|参数|说明|
|----|----|
|%|匹配任意长度字符|
|\_|匹配任意单个字符|
|\[\]|表示括号内所列字符中的一个(类似正则表达式)|
|\[^\]|表示不在括号所列之内的单个字符|


## 连接

|类别|说明|
|----|----|
|inner join|内连接|
|left join|左连接|
|right join|右连接|

**内连接：获取两个表中字段匹配关系的记录**

**左连接：获取左表所有记录，即使右表没有对应匹配的记录**

**右连接：获取右表所有记录，即使左表没有对应匹配的记录**

## union

**用于连接两个以上的select 语句的结果组合到一个结果集合中，多个select 语句默认删除重复的数据**

```
select <字段> from <表名> [where...] union [all | distinct] select <字段> from <表名> [where...]
```

|参数|说明|
|----|----|
|distinct|删除结果集中重复的数据，union默认删除了重复的数据|
|all|返回所以结果，包括重复数据|

## 分组(group by)

**根据一个或多个列对结果集进行分组**

```
select <字段> from <表名> group by <字段>
```


## 事务

**事务的四个特性(ACID)**

|特性|说明|
|----|----|
|原子性(Atomicity)|一个事务中的所有操作，要么全部完成，要不全部不完成，不可卡在中间某个步骤。若执行错误，会被回滚到执行事务之前的状态。|
|一致性(Consistency)|成功执行事务后，数据库的完整性不会遭到破坏。|
|隔离性(Isolation)|数据库允许多个并发事务同时对其数据进行读写和修改的能力。事务隔离级别:读未提交、读提交、可重复读、串行化|
|持久性(Durability)|执行事务后，对数据的修改是永久的|


